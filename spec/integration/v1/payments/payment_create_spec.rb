

require_relative '../../test_harness'
require_relative '../../../lib/lib'
require 'json'

include PayPal::V1::Payments

describe PaymentCreateRequest do
  def build_request_body
    return JSON.parse('{"create_time":"RZFvYFadvtCsEZK","failure_reason":"fdJczatvYp7cxs","intent":"pg1WJa IFw6P7i","links":{"href":"wFAAT5wiIN","method":"Tws R7zeWuC","rel":"335wCfJNhIPOJN6h"},"redirect_urls":{"cancel_url":"J9cWzIZ1R2MVgNpp","return_url":"LfD6UZpIOUf"},"update_time":"NcpH C aOrAbIc3BA4w","experience_profile_id":"Ef6EYsFUsV","id":"PqJZM3Jf4bY","note_to_payer":" B0duxhKZT21","payer":{"funding_instruments":{"credit_card_token":{"credit_card_id":"pyWxxB4JL37","expire_month":4,"expire_year":8,"last4":"Wa52VCJddRD1","payer_id":"G U85RzEEJ4RT44","type":"HYW3VZUzNK"},"credit_card":{"first_name":"C8r3V34277uSq575","expire_month":2,"cvv2":"Qe60tYKv6a9uJsp","expire_year":6,"last_name":"EciVaMHyLR8AbwBOwv","links":{"method":"rfivpXOShYPPP","rel":"ZzSZIpQpd9O ","href":"24RJuOUUZWX"},"number":"WNszgrB1sLheQv1J","type":"6VXBYX2dCQ","billing_address":{"status":"Lxdhd3DsTPE13cKyfp","country_code":"XiIs1iLp1Ty","line1":"FKJXggBTF9","line2":"yeeJU7tqKRHuAert","phone":"qQicQ82ISsw cYvTuz","postal_code":"bw63tfr8UJ","state":"0IYUueKbLAFTS","city":"pW8uIbI yMW","normalization_status":"G8EqZsDhCBAgtvvurBA","type":"TNa3DxdhWx3Au4ahBye"}}},"payer_info":{"birth_date":"AqvEMaipaqyduIKb1","country_code":"UHQ99M2fITyD2f","email":"2SJNJFHS01AQ6","tax_id":"MYGX4Dx DPg","first_name":"K7OrvwaPUtFB0","middle_name":"y4rM2101zANi8rqvSb","phone_type":"BDWIEI9LHE6ads","salutation":"s1gg yeH4RZC CJ1PNF","suffix":"BRAaw3gbYfOA2","last_name":"R5q4IKLhi4ftf8SWR","payer_id":"fsdTMhqdEsaRRv","phone":"CWsP92JU28RaA","shipping_address":{"city":"Nv06VWNw5FzQ","line1":"4uGWsL1PwThRc","line2":"Nh5FFXAgNRGVGCeW4bc","recipient_name":"UCLTNziNX7MN7","status":"Lf5a3g 2HGc1","type":"WDwUPtZL1hU","country_code":"dTsadGvD9z1SDbIf","normalization_status":"uzI18HZQH94Y6","phone":"bJEea1a96XIiV","postal_code":"01NqtwY68Y","state":"cGDLRDMDPt hXb55"},"billing_address":{"state":"dRU5qu2paSZzbiZizU","status":"ZM3X39GhiG","type":"QT00USTERL","line1":"1Y5RTx3Hdd","phone":"sOAtS0wD5ziGhiLISxR","line2":"LWLhSIH5JfGcDrSR","normalization_status":"0XFsBgrz eS","postal_code":"31HODpIhFZMF19WuwO9","city":"CL5c0WWa9gh","country_code":"WBLPY8zys6RF"},"tax_id_type":"SXXEw 9zga"},"payment_method":"4YWhIY2L0PAf7L","status":"Jb1b0qqfIvXG"},"state":"Y9ySRRgIZJKYPVM","transactions":{"payee":{"payee_display_metadata":{"brand_name":"ZgX f2iMYVv6RIP2r b","display_phone":{"number":"c66EPNCL7FA2","country_code":"2FU3KsOIxDHLehE3"},"email":"QqES3KJEzJdFyQx"},"email":"qSwXKRVe882ruws","merchant_id":"1QqPg1LKe7H"},"payment_options":{"allowed_payment_method":"0hyHUVPtTwaqSRVeuvv"},"reference_id":" ftptN676 3z","item_list":{"items":{"quantity":"RUw91pZ6XVhC7Xu","sku":"aKeHZIKR AwV ZVzL","tax":"r39GOz7h0d6zT2X","url":"FaOMXWMSBigBMMY76yM","currency":"Gf3tpyFwZu5JWvfvGV4","description":"1 G9QYGcP dN","name":"U hA B5crBSsZ0RWM","price":"F IYX5we0aaU0Zi Xgu"},"shipping_address":{"phone":"CpFJ5g420Xcr","recipient_name":"r71K7XRJO9tW","state":"1XLFC4dSP95cL","type":"feK97L1DJZ4iLX4Uzz","city":"V3B1xc7Zs4pE","country_code":"7d23WXrsaMxB44","line1":"7 RQuFsq2JhSOArp","line2":"h71AeT gvP1FD9PF","normalization_status":"uEup7DfVw9s","postal_code":"UE6dVEweqYy6Q04E","status":"36JU43526bAxLcGaJ"},"shipping_method":"q7I4hMyxIBhcXPOyF","shipping_phone_number":"ay9bh3Dx SDv4"},"note_to_payee":"4wT7JuO7G8 LHupUPf","purchase_order":"zfKWbdN0Uac5pB","soft_descriptor":" M5gB3YQPE1vbzUc","amount":{"total":"zHQV NiQthDCQHBaW","currency":"yU0qT9s1CfwUDOaP","details":{"subtotal":"MN1gd4rfhJ2","tax":"1Nr5g fru7 CP","gift_wrap":"suUefO0rSTTHLEc0g30","handling_fee":"WrS8 bz9MgKrGCBfHpt","insurance":"1DUYKLe7rN3","shipping":"WpzVSNW8ww","shipping_discount":"OQwIq ssDp"}},"related_resources":{"sale":{"clearing_time":"6114tuZ5VTs","payment_mode":"ZXr67bqUfhbEB","receivable_amount":{"currency_code":"H6bd0UguDrEL1x0Geu","value":"D5LHE6y5QNxva8Y"},"protection_eligibility_type":"aWuNZSxJUPGc819Xp","purchase_unit_reference_id":"tRWVEVRTerSM65","exchange_rate":"1uPN1IVNw1Du","fmf_details":{"description":"GuWSeT89fbIW1FdvXxR","filter_id":"YLZaNwpQZeG","filter_type":"dUyQiZYVGcG","name":"MuFWBwuHvDRKUvKw"},"links":{"href":"g4MSRACtA8","method":"uUrW33fEeEK6wbbCY","rel":"SqECtZHiOqc2"},"parent_payment":"ggUAOxx3wxfeNAV","payment_hold_reasons":["ra3e84Ke ewtESXJ","uH A4sU2cD"],"protection_eligibility":"pRO 7cRsax60feECq","reason_code":"sCvWcZ4Wr9xhD2T","receipt_id":"QKIweKp0OFi","amount":{"details":{"shipping":"Uu KGp9ILb","shipping_discount":"2b8MIWx OB2t3D77","subtotal":"O2wKv rdJT6Xr5B","tax":"DyGGVBTFuGhY","gift_wrap":"uY4PcYpxY3F6Kdq6e","handling_fee":"wN0qLGq2zz","insurance":"49Ca1PUd2hyvC"},"total":"LJu7OTqgPSK","currency":"u1P560dB8ugL4D9 yub"},"billing_agreement_id":"wpYArDX1FOq1","id":"c A49grIibxXxexc","state":"9ZppM3OC2P4bMv","transaction_fee":{"currency_code":"asqX5SRA76uhp3wAwP","value":"JxPPJNfhF1FBcCHCsby"},"update_time":"u5DXZcPPMB5S4L7Y6","create_time":"5THYGMXisO6I7RGX1S","payment_hold_status":"hNCTRbIFWFppU9J57e1","processor_response":{"response_code":"QqVtQSswxq hCGNd0Dt","vpas":"ggP6SSX5T4PQYzCH","advice_code":"saPJJIzP4BZRea1V24","avs_code":"WyHhODuxDtBsr7O","cvv_code":"FNPVdYI77RbLqAB","eci_submitted":"ZGWyOCdQyOG"}},"authorization":{"links":{"href":"YxAy0YGS2sHPBuX7h8","method":"uKz5sB20Svp1RrDd","rel":"GWt2FuYiaYpb"},"pending_reason":"pMPg7rf6NgfWU","id":"KTiub5JTUw7P3pP","reason_code":"OAEbx8bcpECx9D","reference_id":"tQ4cBXU2hwBZHO3Pf","protection_eligibility":"JduDEcacyS","protection_eligibility_type":"KX1zOvERyB","receipt_id":"iKyibpBbxhbFU5YR","amount":{"total":"H1tO 9u54i79gCKRq0b","currency":"bKKGU9J7zCa","details":{"handling_fee":"vY 63 IfGXpwBb","insurance":"SBNr79icBD3AV4Bx","shipping":"WyudqLQVspqAtgyw","shipping_discount":"cVUKVwB0G3bhA","subtotal":"eI9JcTGZ7aQeL","tax":"907GIVBJ7Q","gift_wrap":"KLZWywyULIbRsCazyGI"}},"create_time":"t1bEeiFMX2L","payment_mode":"0WrbuFwSO0ti","processor_response":{"avs_code":"Pyuv6Z1zsaTE7FBsdV","cvv_code":"bx VCsE9T8xxE1PYE","eci_submitted":"1uB1g232CCOHtOSR","response_code":"KLX9tqIU9pyuayxbL","vpas":"HwFZH7gs9SwDVe6X","advice_code":"IAIKNyDv9LZNDwfCNE3"},"valid_until":"rYtcusDPXR34MIFCZP","fmf_details":{"description":"f6KPbtrw6TQWi4","filter_id":"NVPGs9Y 7DASvFX","filter_type":"i5WKChHpRqGFKDecZGE","name":"XiY73HJMKu6HORI8H"},"parent_payment":"G5PFveWctaBEGaXO 9Q","state":"FHPrA1u7dVO","update_time":"uScfMvg6vUSJI"},"capture":{"amount":{"details":{"gift_wrap":"0y1VXLJ4SNawyg1RUr","handling_fee":"ByYJyx23xcRxAdcBd","insurance":"4HO017GzbF7y","shipping":"cxNbIPLOFsJ0Eyu","shipping_discount":"IKCLYMJZvy","subtotal":"84QcOsGfKgb1asFziV","tax":" EFNSYTahrAYe"},"total":"w5xdaO8waRI","currency":"Gcs7uZBMsxBPDSITAJ"},"state":"reWwbHvhwzxRRG","update_time":"6H6he5LcxpCBtHU","is_final_capture":true,"links":{"href":"rpULDt86Wtgz2E","method":"RxsWPVX4JQMMLw0c","rel":"pK9Qu2YPHIXsEEY"},"parent_payment":"0QiUbihMRThQU1f","reason_code":"S tu RKuU6YX0Hsb59B","transaction_fee":{"currency_code":"HC7X65VtF2","value":"pM73xRadTp8yvA1gc"},"create_time":"fwLVeawAcI7fMg","id":"5ytz4 WEh5CWK7MIfD","invoice_number":"JKWKPKD15HxqBQDwgEN"},"order":{"parent_payment":"U2Qsh6PhTWD","protection_eligibility_type":"piqBbvDAfPBYXpMg7","reason_code":"P6epi BRyDq2P9wq","reference_id":"AABZ20Tcybx","create_time":"EhuwcgvrZGLO4","id":"Ja6QLCR9JFXV","update_time":"ppiXyVBHcQIMLGzqw W","links":{"rel":"AVMN5cKSA2Q","href":"cQA4IXdYMifqV","method":"wYJqv6YtIVS2hxyZ2"},"state":"vcisd6ZMtOKD","pending_reason":"b4FRNYhru1b1Py4MHy","protection_eligibility":"xr2Jr0O1 IJteBrVy","amount":{"currency":"dsLN8V8QOI","details":{"handling_fee":"WssIs2v2u9Ddr5","insurance":"WJI2s4by BD0S","shipping":"qvfZZdRSXPFN0 ","shipping_discount":"NYxQ7QK7dY Ty","subtotal":"hJzxwfc35 ","tax":"aF 21VQhBdTAs","gift_wrap":"Hi4EdFPW09tC"},"total":"NgxvEMH9AVuvD"},"fmf_details":{"name":"U dcMqxvh6z21RgCKpX","description":"S0sFs21fFzcw","filter_id":"CuM7ccw5MzNaH0M 0i","filter_type":"sL 4A1e2e6sRqiW"},"payment_mode":"fVYXpOPRxBH50z"},"refund":{"capture_id":"gPiq9546YxtWxvh65","create_time":"h3JYKxa Yt7zKKzfveX","id":"5Mgv2C2SzUHHLUR","parent_payment":"MGypr6pBJz1i","reason":"O32rgtCKFSqAO","sale_id":"f4SPqBFGpTp16Zh","amount":{"currency":"MuBscvYpx2","details":{"shipping":"HFFrGw64ue5bhXLC","shipping_discount":"tpM8XEw0vyMASPG","subtotal":"i1YJyKYAcZsYwMD","tax":"z13YAg2FFWA","gift_wrap":"VX29BKZzHvLCGV","handling_fee":"ca53Vfc2Qs6WyT","insurance":"RTBIchhIygGhf"},"total":"wYRMD0 IH4gWW"},"invoice_number":"2f5F0yWZ2q2sUQQNT","links":{"href":"VYxrhNI8b3N2pxUvL","method":"xEQhpq4a2c","rel":"Vu7AYCE1Dt4gqM"},"state":"gKwFWOVaSBv2XS2Scbt","update_time":"LAWZMaSvbGYD4MaPr","description":"LYVYz5wNK SFO3r"}},"custom":"9L9VLi2bgXQfXHPR","description":"gRJHgLTeNht1cvTL2","invoice_number":"0G K6fNXzqPp","notify_url":"5pqTPQcTRRw6v5J5yb","order_url":"RsYQ8Vr UXqEuPu54p"}}')
  end

  it 'successfully makes a request' do
    request = PaymentCreateRequest.new()
    request.request_body(build_request_body)

    resp = TestHarness::client.execute(request)
    expect(resp.status_code).to eq(201)
    expect(resp.result).not_to be_nil

    # Add your own checks here
  end
end
